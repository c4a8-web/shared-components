<!-- Shared Filter Bar Section -->
{%- assign filterBarItems = include.items -%}
{%- assign filterBarTitle = include.title -%}
{%- assign filterBarMaxBlogPosts = include.maxBlogPosts -%}
{%- assign filterBarDataAuthors = include.authors | default: site.data.authors -%}

{%- capture itemsString -%}[
  {%- for item in filterBarItems -%}
    {
      "title": "{{ item.title | strip_html }}",
      "blog_image_path": "{{ site.blog_image_path }}",
      "blogtitlepic": "{{ item.blogtitlepic }}",
      "date": "{{ item.date }}",
      "moment": "{{ item.moment }}",
      "tags": "{{ item.tags }}",
      "author": {{ item.author | jsonify | default: 'null' }},
      "excerpt": "{{ item.excerpt | strip_html | strip_newlines | escape }}"
    }{% unless forloop.last %},{% endunless -%}
  {% endfor %}
  ]
{%- endcapture %}

<filter-bar
  :items="{{ itemsString | jsonify | escape }}"
  title="{{ filterBarTitle }}"
  :max-blog-posts="{{ filterBarMaxBlogPosts }}"
  :data-authors="{{ filterBarDataAuthors | jsonify | escape }}"
>
</filter-bar>
<!-- End Shared Filter Bar Section -->
