<!-- Shared Pricing Slider -->
{%- assign pricingSliderSlider = include.slider -%}
{%- assign pricingSliderTooltip = include.tooltip -%}
{%- assign pricingSliderRange = pricingSliderSlider.range -%}
{% comment %}TODO refactor product-stage so that products is passed as a parameter{% endcomment %}
{%- assign pricingSliderProducts = include.products -%}

<div class="pricing-slider">
  {% if pricingSliderRange %}
    <div class="js-slider-data" data-range="{{ pricingSliderRange | jsonify | escape }}" data-products="{{ products | jsonify | escape }}">
      <!-- Range Slider -->
        <input class="js-ion-range-slider" type="text"
        data-hs-ion-range-slider-options='{
          "extra_classes": "range-slider-custom",
          "hide_from_to": false,
          "min": {{ pricingSliderRange.min }},
          "max": {{ pricingSliderRange.max }},
          "from": {{ pricingSliderRange.from }},
          "step": {{ pricingSliderRange.step }},
          "result_min_target_el": ".js-result-price"
        }'>
        <!-- End Range Slider -->
    </div>
  {% endif %}

  <div class="product-stage__result-container">
    <div class="text-center text-midnight">
      <span class="font-size-5 js-result-price">0</span>
      <span class="pricing-slider__info font-size-5">
        <icon icon="info" size="small" ></icon>
      </span>
      <span>| {{ pricingSliderRange.resultPer }}</span>
    </div>

    <div class="text-center text-midnight">
      <strong class="js-result-product"></strong>
      <span class="js-result-extra"></span>
    </div>

    <modal
    :slim="true"
    :center="true"
    class="pricing-slider__modal"
    >
      <div class="container">
        <div class="row">
          <div class="col">{{ pricingSliderTooltip }}</div>
        </div>
      </div>
    </modal>
  </div>
</div>
<!-- End Shared Pricing Slider -->
