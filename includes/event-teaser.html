{%- if include.json -%}
  {%- assign eventTeaserHeadline = include.json.headline -%}
  {%- assign eventTeaserContent = include.json.content -%}
  {%- assign eventTeaserMoment = include.json.moment -%}
  {%- assign eventTeaserTime = include.json.time -%}
  {%- assign eventTeaserShapes = include.json.shapes -%}
  {%- assign eventTeaserAuthors = include.json.authors -%}
  {%- assign eventTeaserImage = include.json.image -%}
  {%- assign eventTeaserBadge = include.json.badge -%}
  {%- assign eventTeaserPrice = include.json.price -%}
  {%- assign eventTeaserCta = include.json.cta -%}
  {%- assign eventTeaserVariant = include.json.variant | default: '4' -%}
  {%- assign eventTeaserWebcast = include.json.webcast -%}
  {%- assign eventTeaserTeaser = include.json.teaser -%}
  {%- assign eventTeaserUrl = include.json.url -%}
{%- else -%}
  {%- assign eventTeaserHeadline = include.headline -%}
  {%- assign eventTeaserContent = include.content -%}
  {%- assign eventTeaserMoment = include.moment -%}
  {%- assign eventTeaserTime = include.time -%}
  {%- assign eventTeaserShapes = include.shapes -%}
  {%- assign eventTeaserAuthors = include.authors -%}
  {%- assign eventTeaserImage = include.image -%}
  {%- assign eventTeaserBadge = include.badge -%}
  {%- assign eventTeaserPrice = include.price -%}
  {%- assign eventTeaserCta = include.cta -%}
  {%- assign eventTeaserVariant = include.variant | default: '4' %}
  {%- assign eventTeaserWebcast = include.webcast -%}
  {%- assign eventTeaserTeaser = include.teaser -%}
  {%- assign eventTeaserUrl = include.url -%}
{%- endif -%}

{%- assign eventTeaserAuthors = eventTeaserAuthors | replace: '&', '<br/>&' -%}

<!-- Shared Event Teaser Section -->
<article class="event-teaser event-teaser--size-{{ eventTeaserVariant }}
              {% if eventTeaserWebcast %}event-teaser--webcast
              {% elsif eventTeaserTeaser %}event-teaser--teaser
              {% else %}event-teaser--training
              {% endif %}
              "
>
  <header class="event-teaser__header">
    <div class="event-teaser__background">
      <div class="event-teaser__shapes">
        {% for eventTeaserShape in eventTeaserShapes %}
          {% if eventTeaserWebcast %}
            {% if eventTeaserShapes.size > 1 %}
              {% if forloop.index == 1 %}
                {% assign eventTeaserShapePeak = eventTeaserShape.peak | default: 'left' %}
                {% assign eventTeaserShapeHeight = eventTeaserShape.height | default: '84' %}
                {% assign eventTeaserShapeWidth = eventTeaserShape.width | default: '100' %}
              {% else %}
                {% assign eventTeaserShapePeak = eventTeaserShape.peak | default: 'right' %}
                {% assign eventTeaserShapeHeight = eventTeaserShape.height | default: '17' %}
                {% assign eventTeaserShapeWidth = eventTeaserShape.width | default: '60' %}
              {% endif %}
            {% else %}
              {% assign eventTeaserShapePeak = eventTeaserShape.peak | default: 'right' %}
              {% assign eventTeaserShapeHeight = eventTeaserShape.height | default: '40' %}
              {% assign eventTeaserShapeWidth = eventTeaserShape.width | default: '100' %}
            {% endif %}
          {% else %}
            {% if forloop.index == 1 %}
              {% assign eventTeaserShapePeak = eventTeaserShape.peak | default: 'right' %}
              {% assign eventTeaserShapeHeight = eventTeaserShape.height | default: '12' %}
              {% assign eventTeaserShapeWidth = eventTeaserShape.width | default: '237' %}
              {% assign eventTeaserShapeObliquity = eventTeaserShape.obliquity | default: '4' %}
            {% else %}
              {% assign eventTeaserShapePeak = eventTeaserShape.peak | default: 'left' %}
              {% assign eventTeaserShapeHeight = eventTeaserShape.height | default: '10' %}
              {% assign eventTeaserShapeWidth = eventTeaserShape.width | default: '80' %}
            {% endif %}
          {% endif %}
          <div class="event-teaser__shape {{ eventTeaserShapePeak }}" {% if eventTeaserShapeWidth %}style="width: {{ eventTeaserShapeWidth }}%;"{% endif %}>
            {%
              include svg-shape.html
              color=eventTeaserShape.color
              peak=eventTeaserShapePeak
              height=eventTeaserShapeHeight
              obliquity=eventTeaserShapeObliquity
            %}
          </div>
        {% endfor %}
      </div>
      <div class="event-teaser__image">
        {%
          include img.html
          img=eventTeaserImage.img
          alt=eventTeaserImage.alt
          cloudinary=true
        %}
      </div>
    </div>
    <div class="event-teaser__foreground">
      <div class="event-teaser__details">
        <div class="event-teaser__badge">
          {%
            include badge.html
            text=eventTeaserBadge.text
            icon=eventTeaserBadge.icon
            color=eventTeaserBadge.color
          %}
        </div>
        {% if eventTeaserMoment or eventTeaserTime %}
          <div class="event-teaser__timing font-size-1">
            {% if eventTeaserMoment %}<span class="event-teaser__moment">{{ eventTeaserMoment }}</span>{% endif %}
            {% if eventTeaserTime %}<span class="event-teaser__time">{{ eventTeaserTime }}</span>{% endif %}
          </div>
        {% endif %}
        <div class="event-teaser__authors font-size-2 thin bold">{{ eventTeaserAuthors }}</div>
      </div>
    </div>
  </header>
  <main class="event-teaser__main">
    <div class="event-teaser__headline font-size-4">
      {% if eventTeaserWebcast or eventTeaserTeaser %}
      {% else %}
        {% if eventTeaserUrl %}
          <a href="{{ eventTeaserUrl }}">
        {% endif %}
      {% endif %}
      {{ eventTeaserHeadline }}
      {% if eventTeaserWebcast or eventTeaserTeaser %}
      {% else %}
        {% if eventTeaserUrl %}
          </a>
        {% endif %}
      {% endif %}
    </div>
    {% if eventTeaserWebcast or eventTeaserTeaser %}
      <div class="event-teaser__content richtext">{{ eventTeaserContent }}</div>
    {% endif %}
  </main>
  {% if eventTeaserPrice or eventTeaserCta %}
    <footer class="event-teaser__footer">
      {% if eventTeaserPrice %}
        <div class="event-teaser__price font-size-2 bold">
          {{ eventTeaserPrice }}
        </div>
      {% endif %}
      {% if eventTeaserCta %}
        {% assign eventTeaserCtaSkin = eventTeaserCta.skin | default: 'primary' %}
        {% assign eventTeaserCtaWidth = eventTeaserCta.width | default: '' %}
        <div class="event-teaser__cta">
          {%
            include cta.html
            text=eventTeaserCta.text
            href=eventTeaserUrl
            skin=eventTeaserCtaSkin
            width=eventTeaserCtaWidth
          %}
        </div>
      {% endif %}
    </footer>
  {% endif %}
</article>

<!-- End Shared Event Teaser Section -->
