<!-- Shared Pricing Details Section -->
{%- assign products = include.products -%}
{%- assign headline = include.headline -%}
{%- assign description = include.description -%}
{%- assign bgColor = include.bgColor | default: 'var(--color-bg-grey)' -%}
{%- assign toggleSwitch = include.toggleSwitch -%}
{%- assign pricingDetailTargetSelector = toggleSwitch.targetSelectorClass | default: 'pricingSwitch' -%}
{%- assign visibleTab = include.visibleTab -%}
{%- assign lang = page.lang | default: site.lang | downcase | default: "de" -%}

<section id="pricingDetails" class="pricing-details" style="background-color: {{ bgColor }};">
  <div class="container">
    {% if headline %}
      {%
        include headline-row.html
        text=headline
        centered=true
        hasAnimation=true
      %}
    {% endif %}

    {% if description %}
      <p class="pricing-details__description w-75 mt-5 ml-auto mr-auto text-center utility-animation fade-in-bottom" data-utility-animation-step="1">
        {{ description }}
      </p>
    {% endif %}

    <div class="pricing-details__content pt-6 pt-lg-8 pb-10">
      {% if toggleSwitch %}
        {%
          include toggle-switch.html
          toggleSwitch=toggleSwitch
          hasAnimation=true
        %}
      {% endif %}

      {% for product in products %}
        {%
          include pricing-product.html
          product=product
          targetSelectorClass=pricingDetailTargetSelector
          visibleTab=visibleTab
          index=forloop.index
          hasAnimation=true
        %}
      {% endfor %}
      <div class="pt-5">{{ site.data.lang[lang].vatInfo }}</div>
    </div>
  </div>
</section>
<!-- End Shared Pricing Details Section -->
