(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"./assets/js/utility-animation.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _state_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./assets/js/state.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var UtilityAnimation=function(){function UtilityAnimation(root){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UtilityAnimation),this.root=root,this.count=1,this.selector=this.getCurrentSelector(),this.currentElements=this.root.querySelectorAll(this.selector),this.root.matches(this.selector)&&(this.currentElements=this.mergeNodes(this.root,this.currentElements)),this.resetAnimation(),this.initialize()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(UtilityAnimation,[{key:"resetAnimation",value:function resetAnimation(){this.root.querySelectorAll("."+_state_js__WEBPACK_IMPORTED_MODULE_5__.a.IS_STARTING).forEach((function(element){element.classList.remove(_state_js__WEBPACK_IMPORTED_MODULE_5__.a.IS_STARTING)}))}},{key:"mergeNodes",value:function mergeNodes(Node,NodeList){var array=Array.from(NodeList);return array.unshift(Node),array}},{key:"getCurrentSelector",value:function getCurrentSelector(){return'[data-utility-animation-step="'+this.count+'"]'}},{key:"updateCurrentElement",value:function updateCurrentElement(event){var newArray=[];this.currentElements.forEach((function(element){event.srcElement!==element&&newArray.push(element)})),this.currentElements=newArray}},{key:"handleAnimationEnd",value:function handleAnimationEnd(event){this.updateCurrentElement(event),this.currentElements.length>0||(this.count++,this.currentElements=this.root.querySelectorAll(this.getCurrentSelector()),null!==this.currentElements&&this.currentElements.length>0&&this.startStepAnimation(this.currentElements))}},{key:"startStepAnimation",value:function startStepAnimation(elements){elements.forEach((function(element){element.classList.add(_state_js__WEBPACK_IMPORTED_MODULE_5__.a.IS_STARTING)}))}},{key:"initialize",value:function initialize(){var _this=this;this.root.addEventListener("animationend",(function(event){_this.handleAnimationEnd(event)})),this.startStepAnimation(this.currentElements)}}],[{key:"init",value:function init(){this.instances=[]}}]),UtilityAnimation}();UtilityAnimation.rootSelector=".utility-animation",UtilityAnimation.instances=[],__webpack_exports__.default=UtilityAnimation}}]);