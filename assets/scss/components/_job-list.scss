$job-list-entries-gap: spacing(3);
$job-list-transition-time: 1.3s;
$job-list-detail-transition-1-delay: 0.9s;
$job-list-detail-transition-2-delay: 1.3s;
$job-list-detail-transition-3-delay: 1.8s;

.job-list {
  &.is-loading {
    .job-list__header,
    .job-list__meta,
    .job-list__entry {
      opacity: 0;
    }
  }
}

.job-list__header {
  margin-bottom: spacing(6);
  margin-top: spacing(12);

  + .job-list__meta {
    margin-top: spacing($size: 4, $negative: true);
    margin-bottom: spacing(6);

    @include media-breakpoint-up(lg) {
      margin-top: spacing($size: 8, $negative: true);
      margin-bottom: spacing(10);
    }
  }

  @include media-breakpoint-up(lg) {
    margin-bottom: spacing(10);
    margin-top: spacing(16);
  }
}

.job-list__header,
.job-list__meta {
  transition: opacity 0.1s $animation-transition;
}

.job-list__entry {
  @include underline(var(--color-white), '.job-list__entry-title');

  border: 2px solid var(--color-border);
  padding: spacing(8);
  opacity: 1;
  transition: opacity $job-list-transition-time $animation-transition;
  flex: 1 0 100%;
  margin-bottom: spacing(6);
  cursor: pointer;

  &:hover {
    background-color: var(--color-primary-accent);
    border-color: var(--color-primary-accent);
    color: var(--color-white);
  }

  @include media-breakpoint-up(lg) {
    flex: 0 0 calc(50% - #{$job-list-entries-gap});
  }
}

.job-list__entries {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;

  @include media-breakpoint-up(lg) {
    gap: $job-list-entries-gap;
  }
}

.job-list__entry-content {
  margin-top: spacing(4);
}

.job-list__entry-title {
  @include font-style('font-size-4');

  display: inline;
}

.job-list__entry-gender {
  @include font-style('font-size-2');
}

.job-list__expand-button {
  margin: spacing(8) auto;
  border: 2px solid var(--color-border);
  width: 100%;
  transition: opacity 1.1s 0.5s $animation-transition;
  padding: spacing(3);
  text-align: center;
  font-weight: bold;
  cursor: pointer;

  &:hover {
    background-color: var(--color-primary-accent);
    border-color: var(--color-primary-accent);
    color: var(--color-white);
  }

  @include media-breakpoint-up(lg) {
    margin: spacing(16) auto;
    width: 50%;
  }
}

.job-list__detail {
  min-height: 100vh;
  position: relative;

  &.job-list__detail--has-back {
    .job-list__detail-start {
      padding-top: spacing(50);
    }

    .job-list__detail-back {
      display: inline-flex;
    }
  }

  .loading__shape {
    top: 300px;
  }

  &.is-loading {
    @include media-breakpoint-up(lg) {
      &::before {
        width: 0;
      }

      .job-list__detail-animation-1,
      .job-list__detail-animation-2,
      .job-list__detail-animation-3,
      .cta,
      .job-list__detail-gender,
      .job-list__detail-headline {
        opacity: 0;
        transition: none;
        pointer-events: none;
      }
    }
  }

  &::before {
    position: absolute;
    content: '';
    display: block;
    height: 100%;
    width: 100%;
    background-color: var(--job-list-detail-color);

    @include media-breakpoint-up(lg) {
      transition: width 0.6s $animation-transition;
      width: get-full-column-width($container: 'lg', $columns: 5);
    }
  }

  .job-list__detail-animation-1,
  .job-list__detail-headline {
    @include font-style($style: 'h2-font-size', $weight: 'bold');

    color: var(--color-job-list-detail-copy);

    @include media-breakpoint-up(lg) {
      transition: opacity 0.4s $job-list-detail-transition-1-delay $animation-transition;
    }
  }

  .job-list__detail-animation-2,
  .cta,
  .job-list__detail-gender {
    @include media-breakpoint-up(lg) {
      transition: opacity 0.6s $job-list-detail-transition-2-delay $animation-transition;
    }
  }

  .job-list__detail-animation-3 {
    @include media-breakpoint-up(lg) {
      transition: opacity 0.6s $job-list-detail-transition-2-delay $animation-transition;
    }
  }
}

.job-list__detail-start {
  padding-top: spacing(36);
}

.job-list__detail-gender {
  @include font-style($style: 'font-size-4', $weight: bold);
}

.job-list__detail-share {
  margin-bottom: spacing(10);
}

.job-list__detail-content {
  @include font-style($style: 'font-size-2', $line: 'wide');

  margin-bottom: spacing(10);
}

.job-list__detail-description {
  border-bottom: 1px solid var(--color-job-list-border);
  margin-bottom: spacing(20);

  > p:first-of-type {
    @include font-style($style: 'font-size-3', $weight: 'light');
  }

  > h1:first-child,
  > h2:first-child,
  > h1:first-child + h2 {
    display: none;
  }

  p {
    margin-bottom: spacing(12);
  }

  ul {
    margin-bottom: spacing(12);
    list-style: none;

    li {
      position: relative;
      margin-bottom: spacing(4);

      &::before {
        content: '';
        position: absolute;
        display: inline-flex;
        height: 2px;
        width: 20px;
        top: 16px;
        left: -20px;
        background-color: var(--color-primary);
        padding-right: 20px;
        transform: translateX(-100%);
      }
    }
  }

  h2 {
    @include font-style($style: 'h3-font-size', $weight: 'light');

    margin-bottom: spacing(4);
  }
}

.job-list__detail-back {
  position: absolute;
  cursor: pointer;
  display: none;
  width: spacing(9);
  height: spacing(9);
  margin-bottom: spacing(14);
  top: spacing($size: 24, $negative: true);

  .icon {
    width: 100%;
    height: 100%;
  }
}

.job-list__detail-maps {
  margin-top: spacing(22);
}
