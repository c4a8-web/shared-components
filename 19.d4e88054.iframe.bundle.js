(window.webpackJsonp=window.webpackJsonp||[]).push([[19,21],{"./assets/js/components/job-list-detail.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _base_component_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./assets/js/components/base-component.js"),_recruiter_box_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./assets/js/recruiter-box.js"),_state_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./assets/js/state.js"),_modal_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./assets/js/modal.js"),_tools_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./assets/js/tools.js"),_loading_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./assets/js/loading.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var JobListDetail=function(_BaseComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(JobListDetail,_BaseComponent);var _super=_createSuper(JobListDetail);function JobListDetail(root,options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,JobListDetail),(_this=_super.call(this,root,options)).containerSelector=".job-list__detail-container",_this.headlineSelector=".job-list__detail-headline",_this.ctaSelector=".job-list__detail-cta .cta",_this.introSelector=".job-list__detail-intro",_this.descriptionSelector=".job-list__detail-description",_this.backSelector=".job-list__detail-back",_this.hasBackClass="page-detail--has-back",_this.modal=_this.root.querySelector(".modal"),_this.loadingDelay=300,_this.base=_this.root.dataset.base?JSON.parse(_this.root.dataset.base):void 0,_this.apiUrl=_this.root.dataset.apiUrl,_this.templates=window.Templates,_this.loading=new _loading_js__WEBPACK_IMPORTED_MODULE_18__.a(_this.root),_this.init(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(JobListDetail,[{key:"showBackButton",value:function showBackButton(){-1!==document.referrer.indexOf(document.location.host)&&this.root.classList.add(this.hasBackClass)}},{key:"init",value:function init(){var _window$i18n,_this2=this;this.loading.on(),this.api=new _recruiter_box_js__WEBPACK_IMPORTED_MODULE_14__.a(Object.assign({},this.options,this.apiUrl&&{apiUrl:this.apiUrl},{client_name:this.root.dataset.id})),this.showBackButton();var hasLanguageLoader=null===(_window$i18n=window.i18n)||void 0===_window$i18n?void 0:_window$i18n.loader;hasLanguageLoader?hasLanguageLoader.then((function(){_this2.loadJob()})):this.loadJob()}},{key:"stopLoading",value:function stopLoading(){var _this3=this;setTimeout((function(){_this3.root.classList.remove(_state_js__WEBPACK_IMPORTED_MODULE_15__.a.LOADING)}),this.loadingDelay)}},{key:"queryElements",value:function queryElements(){this.back=this.root.querySelector(this.backSelector),this.cta=this.root.querySelector(this.ctaSelector)}},{key:"bindEvents",value:function bindEvents(){var _this$back,_this$cta;this.queryElements(),null===(_this$back=this.back)||void 0===_this$back||_this$back.addEventListener("click",this.handleBack.bind(this)),null===(_this$cta=this.cta)||void 0===_this$cta||_this$cta.addEventListener("click",this.handleCta.bind(this))}},{key:"handleCta",value:function handleCta(){_modal_js__WEBPACK_IMPORTED_MODULE_16__.default.open(this.modal)}},{key:"handleBack",value:function handleBack(e){e.stopImmediatePropagation(),window.history.back()}},{key:"loadJob",value:function loadJob(){var _this4=this;setTimeout((function(){var _this4$api;null===(_this4$api=_this4.api)||void 0===_this4$api||_this4$api.getOpening().then((function(response){return response.json()})).then((function(data){_this4.handleJob(data)})).catch((function(error){console.error("Job-list Error:",error)}))}),this.loadingDelay)}},{key:"handleJob",value:function handleJob(entry){var _this5=this,localEntry=entry.objects?entry.objects[0]:entry;if(localEntry&&localEntry.location){var _window$i18n2,_window$i18n3,_this$templates,gender=null===(_window$i18n2=window.i18n)||void 0===_window$i18n2?void 0:_window$i18n2.translate("gender"),city=((null==localEntry?void 0:localEntry.location)||{}).city,title=localEntry.title,position_type=localEntry.position_type,team=localEntry.team,description=localEntry.description,entryData=Object.assign({city:city,description:description,title:title,gender:gender,team:team,positionType:""!==position_type?null===(_window$i18n3=window.i18n)||void 0===_window$i18n3?void 0:_window$i18n3.translate(position_type):null,isInvisible:this.maxItems>0&&i>this.maxItems-1},this.base&&Object.assign({},this.base));this.templates.setPreRender((function(){_this5.root.classList.add(_state_js__WEBPACK_IMPORTED_MODULE_15__.a.HIDE_LOADING),_this5.loading.off(!0)})),null===(_this$templates=this.templates)||void 0===_this$templates||_this$templates.load("job-list-detail",entryData).then((function(html){_this5.appendHtml(html),_this5.bindEvents(),_this5.stopLoading()}))}else console.error("handleJob has no entry")}},{key:"appendHtml",value:function appendHtml(html){var container=this.root.querySelector(this.containerSelector),fullHtml=document.createElement("div");fullHtml.innerHTML=html;var newContainer=fullHtml.querySelector(this.containerSelector);container&&newContainer&&(_tools_js__WEBPACK_IMPORTED_MODULE_17__.a.replace(container.querySelector(this.introSelector),newContainer.querySelector(this.introSelector)),_tools_js__WEBPACK_IMPORTED_MODULE_17__.a.replace(container.querySelector(this.descriptionSelector),newContainer.querySelector(this.descriptionSelector)))}}]),JobListDetail}(_base_component_js__WEBPACK_IMPORTED_MODULE_13__.a);JobListDetail.rootSelector=".job-list__detail",__webpack_exports__.default=JobListDetail},"./assets/js/loading.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _tools_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./assets/js/tools.js"),_state_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./assets/js/state.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Loading=function(){function Loading(root){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Loading),this.root=root,this.maxShapes=3,this.loadingClass="loading",this.shapeClass="loading__shape",this.bounceClasses={up:"loading--bounce-up",down:"loading--bounce-down"},this.types=["circle","square","triangle","triangle-2","rectangle"],this.colors=["--color-loading--1","--color-loading--2","--color-loading--3","--color-loading--4"],this.currentColors={},this.maxRuns=20,this.scaleMin=4,this.scaleMax=5,this.rotationMin=90,this.rotationMax=270,this.animationInterval=800,this.intervals=[],this.hasShapes=!1,this.init()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Loading,[{key:"getRandomColor",value:function getRandomColor(runs){var randomColor=this.colors[Math.floor(Math.random()*this.colors.length)];return runs<this.maxRuns&&this.currentColors[randomColor]&&(runs++,randomColor=this.getRandomColor(runs)),randomColor}},{key:"getRandomType",value:function getRandomType(){return this.types[Math.floor(Math.random()*this.types.length)]}},{key:"getRandomTypeClass",value:function getRandomTypeClass(){return"loading__shape--"+this.getRandomType()}},{key:"getRandomScale",value:function getRandomScale(){return Math.floor(Math.random()*(this.scaleMax-this.scaleMin+1))+this.scaleMin}},{key:"getRandomRotation",value:function getRandomRotation(){return Math.floor(Math.random()*(this.rotationMin-this.rotationMax+1))+this.rotationMin}},{key:"getRandomOffset",value:function getRandomOffset(){var offset=6*Math.random()-2;return""+(offset>=0?"+ ":"- ")+offset}},{key:"getRandomStyle",value:function getRandomStyle(){var randomColor=this.getRandomColor();return{style:"\n      left: calc(50% "+this.getRandomOffset()+"vw);\n      --color-loading: var("+randomColor+");\n      --loading-scale: "+this.getRandomScale()+"vh;\n      --loading-rotation: "+this.getRandomRotation()+"deg\n    ",color:randomColor}}},{key:"createShapes",value:function createShapes(){for(var i=0;i<this.maxShapes;i++){var shape=document.createElement("shape"),newShape=_tools_js__WEBPACK_IMPORTED_MODULE_6__.a.append(this.root,shape);this.startAnimation(newShape)}}},{key:"startAnimation",value:function startAnimation(element){var _this=this;this.intervals.push(setInterval((function(){var randomStyle=_this.getRandomStyle();_this.currentColors[randomStyle.color]=!0,element.className="",element.classList.add(_this.getRandomTypeClass()),element.classList.add(_this.shapeClass),element.setAttribute("style",randomStyle.style),element.classList.contains(_this.bounceClasses.up)?element.classList.replace(_this.bounceClasses.down,_this.bounceClasses.up):element.classList.add(_this.bounceClasses.up),setTimeout((function(){element.classList.replace(_this.bounceClasses.up,_this.bounceClasses.down),_this.currentColors[randomStyle.color]=!1}),_this.animationInterval/2)}),this.animationInterval))}},{key:"init",value:function init(){this.root.classList.add(this.loadingClass)}},{key:"on",value:function on(){this.hasShapes||(this.hasShapes=!0,this.createShapes()),this.root.classList.add(_state_js__WEBPACK_IMPORTED_MODULE_7__.a.LOADING)}},{key:"clear",value:function clear(){this.intervals.forEach((function(interval){clearInterval(interval)}))}},{key:"off",value:function off(force){var _this2=this;force?this.clear():setTimeout((function(){_this2.clear(),_this2.root.classList.remove(_state_js__WEBPACK_IMPORTED_MODULE_7__.a.LOADING)}),100)}}]),Loading}();__webpack_exports__.a=Loading},"./assets/js/modal.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _state_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./assets/js/state.js"),_components_form_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./assets/js/components/form.js"),_components_form_attachments_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./assets/js/components/form-attachments.js"),_recruiter_box_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./assets/js/recruiter-box.js"),_tools_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./assets/js/tools.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Modal=function(){function Modal(root,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Modal),this.root=root,this.options=options,this.closeSelector=".modal__close",this.successCloseSelector=".modal__success-close .cta",this.applicationSelector=".modal__application",this.modalSuccessHeadlineSelector=".modal__success-headline > *",this.buttonSelector='[data-trigger="modal"]',this.formSelector=".form",this.close=this.root.querySelector(this.closeSelector),this.successClose=this.root.querySelector(this.successCloseSelector),this.application=this.root.querySelector(this.applicationSelector),this.form=this.root.querySelector(this.formSelector),this.root.classList.add(_state_js__WEBPACK_IMPORTED_MODULE_5__.a.READY),this.application&&(this.clientName=this.root.dataset.clientName,this.apiUrl=this.root.dataset.apiUrl,this.jobId=this.root.dataset.jobId,this.api=new _recruiter_box_js__WEBPACK_IMPORTED_MODULE_8__.a(Object.assign({},this.jobId&&{jobId:this.jobId},this.apiUrl&&{apiUrl:this.apiUrl},{client_name:this.clientName}))),this.bindEvents()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Modal,[{key:"bindEvents",value:function bindEvents(){var _this$close,_this$successClose;if(null===(_this$close=this.close)||void 0===_this$close||_this$close.addEventListener("click",this.handleClose.bind(this)),null===(_this$successClose=this.successClose)||void 0===_this$successClose||_this$successClose.addEventListener("click",this.handleClose.bind(this)),this.application){var parent=_tools_js__WEBPACK_IMPORTED_MODULE_9__.a.getParentComponent(this.root),formInstance=_components_form_js__WEBPACK_IMPORTED_MODULE_6__.default.getInstance(this.form);if(parent){var button=parent.querySelector(this.buttonSelector);null==button||button.addEventListener("click",this.handleOpen.bind(this))}formInstance&&(formInstance.customSubmit=this.handleApplicationSubmit.bind(this))}}},{key:"handleApplicationSubmit",value:function handleApplicationSubmit(e){var _this=this;e.preventDefault(),e.stopImmediatePropagation();var fileData,base64=this.form.querySelector(_components_form_attachments_js__WEBPACK_IMPORTED_MODULE_7__.default.base64Selector),base64Value=null==base64?void 0:base64.value,fields=this.api.getFormData(this.form);if(base64Value)fileData={name:base64.dataset.fileName};else{var fileInput=this.form.querySelector('input[type="file"]');fileData=null==fileInput?void 0:fileInput.files[0]}fileData?base64Value?(fields=this.api.applyFileData(fileData,base64Value,fields),this.handleApplicationRequest(fields)):_tools_js__WEBPACK_IMPORTED_MODULE_9__.a.toBase64(fileData).then((function(data){fields=_this.api.applyFileData(fileData,data,fields),_this.handleApplicationRequest(fields)})):(console.error("handle generic error no files"),this.handleError())}},{key:"handleApplicationRequest",value:function handleApplicationRequest(fields){var _this2=this;this.api.handleApply(fields).then((function(){_this2.handleApplicationSuccess(fields)})).catch((function(){_this2.handleError()}))}},{key:"handleApplicationSuccess",value:function handleApplicationSuccess(fields){this.root.classList.add(_state_js__WEBPACK_IMPORTED_MODULE_5__.a.SUCCESS);var modalSuccessHeadline=this.root.querySelector(this.modalSuccessHeadlineSelector);if(modalSuccessHeadline){modalSuccessHeadline.dataset.text||(modalSuccessHeadline.dataset.text=modalSuccessHeadline.innerText);var firstName=fields[0];modalSuccessHeadline.innerText=modalSuccessHeadline.dataset.text+" "+firstName.value}}},{key:"handleError",value:function handleError(){console.error("error modal")}},{key:"handleClose",value:function handleClose(e){e.preventDefault(),Modal.close(this.root)}},{key:"handleOpen",value:function handleOpen(e){e.preventDefault(),Modal.open(this.root)}}],[{key:"initElement",value:function initElement(element,options){var instance=new this(element,options);return this.instances.push(instance),instance}},{key:"open",value:function open(element){window.$&&$(element).modal("show")}},{key:"close",value:function close(element){window.$&&($(element).modal("hide"),Modal.resetModal(element))}},{key:"resetModal",value:function resetModal(element){setTimeout((function(){var form=element.querySelector("form");null==form||form.reset(),element.classList.remove(_state_js__WEBPACK_IMPORTED_MODULE_5__.a.SUCCESS)}),200)}},{key:"init",value:function init(element){var _this3=this;this.instances=[];var selectedElement=element||document,notReadySelector=this.rootSelector+":not(."+_state_js__WEBPACK_IMPORTED_MODULE_5__.a.READY+")";[].forEach.call(selectedElement.querySelectorAll(notReadySelector),(function(element){_this3.initElement(element)}))}}]),Modal}();Modal.rootSelector=".modal",Modal.instances=[],__webpack_exports__.default=Modal},"./assets/js/recruiter-box.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _tools_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./assets/js/tools.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var RecruiterBox=function(){function RecruiterBox(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RecruiterBox),this.apiUrl="https://jsapi.recruiterbox.com/v1/",this.openingsUrl=this.apiUrl+"openings",this.types={OPENINGS:"openings"},this.langTagPrefix="lang_",this.hiddenTag="hidden",this.mockApplyUrl="mock/jobApply.json",this.options=options,this.filter="",this.options.jobId=this.getJobId()}var _apply;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RecruiterBox,[{key:"getJobId",value:function getJobId(){var jobId="",hash=window.location.hash;if(hash)if(-1!==hash.indexOf("-")){var splitHash=hash.split("-");jobId=splitHash[splitHash.length-1]}else jobId=hash.substr(1);else this.options.jobId&&(jobId=this.options.jobId);return jobId}},{key:"getLangFromEntry",value:function getLangFromEntry(entry){var _langs$,_this=this;return(null===(_langs$=(null==entry?void 0:entry.tags.filter((function(value,_){return 0===value.indexOf(_this.langTagPrefix)})))[0])||void 0===_langs$?void 0:_langs$.replace(this.langTagPrefix,""))||null}},{key:"setLang",value:function setLang(lang){this.setFilter({tags:this.langTagPrefix+lang})}},{key:"setFilter",value:function setFilter(params){var _this2=this;params&&Object.keys(params).forEach((function(key){_this2.filter+="&"+key+"="+params[key]}))}},{key:"getUrl",value:function getUrl(type,params,action){var _this$options$apiUrl,_this$options,idParam=params?"/"+params+"/"+(null!=action?action:""):"";return""+(null!==(_this$options$apiUrl=this.options.apiUrl)&&void 0!==_this$options$apiUrl&&_this$options$apiUrl.match(/.json$/)&&action?this.mockApplyUrl:this.options.apiUrl?this.options.apiUrl:this[type+"Url"])+(this.options.apiUrl?"":idParam+"?client_name="+(null===(_this$options=this.options)||void 0===_this$options?void 0:_this$options.client_name))+(this.options.apiUrl?"":this.filter)}},{key:"getAll",value:function getAll(){var url=this.getUrl(this.types.OPENINGS);return this.fetch(url)}},{key:"getOpening",value:function getOpening(){var _this$options2,url=this.getUrl(this.types.OPENINGS,null===(_this$options2=this.options)||void 0===_this$options2?void 0:_this$options2.jobId);return this.fetch(url)}},{key:"getFormData",value:function getFormData(form){if(null==form)return[];for(var inputs=form.querySelectorAll('input[type="text"], input[type="email"], textarea'),data=[],customFields=["cancellation","salary","message"],_loop=function _loop(i){var input=inputs[i],value=void 0;"text"!==input.type&&"email"!==input.type&&"TEXTAREA"!==input.tagName||(value=input.value);var key=customFields.filter((function(value){return value===input.name})).length?input.name:"candidate_"+_tools_js__WEBPACK_IMPORTED_MODULE_15__.a.camalCaseToSnakeCase(input.name);data.push({key:key,value:value})},i=0;i<inputs.length;i++)_loop(i);return data}},{key:"applyFileData",value:function applyFileData(fileData,data,fields){var file={key:"resume",value:{encoded_data:data,file_name:fileData.name}};return fields.push(file),fields}},{key:"isValidResponseCode",value:function isValidResponseCode(response){return this.options.apiUrl?200===response.status:201===response.status||204===response.status}},{key:"handleApply",value:function handleApply(fields){var _this3=this;return new Promise((function(resolve,reject){_this3.apply({fields:fields}).then((function(response){if(_this3.isValidResponseCode(response))return resolve();response.json().then((function(jsonResponse){if(jsonResponse.errors)return reject(jsonResponse.errors)})).catch((function(error){return reject(error)}))})).catch((function(error){return reject(error)}))}))}},{key:"apply",value:(_apply=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(fields){var _this$options3,url;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=this.getUrl(this.types.OPENINGS,null===(_this$options3=this.options)||void 0===_this$options3?void 0:_this$options3.jobId,"apply"),_context.abrupt("return",this.fetch(url,{method:"POST",body:JSON.stringify(fields),headers:{"Content-Type":"application/json"}}));case 2:case"end":return _context.stop()}}),_callee,this)}))),function apply(_x3){return _apply.apply(this,arguments)})},{key:"fetch",value:function(_fetch){function fetch(_x,_x2){return _fetch.apply(this,arguments)}return fetch.toString=function(){return _fetch.toString()},fetch}((function(url,options){var _this4=this;return new Promise((function(resolve,reject){var _this4$options;null!==(_this4$options=_this4.options)&&void 0!==_this4$options&&_this4$options.client_name?resolve(fetch(url,options)):reject("no client_name specified")}))}))}]),RecruiterBox}();__webpack_exports__.a=RecruiterBox}}]);